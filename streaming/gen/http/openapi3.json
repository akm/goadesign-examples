{"openapi":"3.0.3","info":{"title":"Chatter service describing the streaming features of goa v2.","version":"1.0"},"servers":[{"url":"http://localhost:80","description":"Default server for chatter"}],"paths":{"/echoer":{"get":{"tags":["chatter"],"summary":"echoer chatter","description":"Echoes the message sent by the client.","operationId":"chatter#echoer","responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"type":"string","example":"Sunt dolorem."},"example":"Quas aliquam."}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Sequi tenetur."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Deleniti ea in."}}}},"security":[{"jwt_header_Authorization":["stream:read","stream:write"]}]}},"/history":{"get":{"tags":["chatter"],"summary":"history chatter","description":"Returns the chat messages sent to the server.","operationId":"chatter#history","parameters":[{"name":"view","in":"query","description":"View to use to render the result","allowEmptyValue":true,"schema":{"type":"string","description":"View to use to render the result","example":"Ullam consequatur corrupti possimus aliquid aperiam."},"example":"Laboriosam qui velit id eum cum occaecati."}],"responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"description":"Response body may alternatively be #/components/schemas/HistoryResponseBodyTiny","$ref":"#/components/schemas/ChatSummary"},"example":{"length":7061470363817807262,"message":"Et rerum non tempora.","sent_at":"1997-01-27T10:55:40Z"}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Voluptatem dolorem expedita harum eius libero ullam."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Unde ea recusandae."}}}},"security":[{"jwt_header_Authorization":["stream:read","stream:write"]}]}},"/listener":{"get":{"tags":["chatter"],"summary":"listener chatter","description":"Listens to the messages sent by the client.","operationId":"chatter#listener","responses":{"101":{"description":"Switching Protocols response."},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Totam porro quis."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Sit rerum sit et hic."}}}},"security":[{"jwt_header_Authorization":["stream:read","stream:write"]}]}},"/login":{"post":{"tags":["chatter"],"summary":"login chatter","description":"Creates a valid JWT token for auth to chat.","operationId":"chatter#login","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","description":"New JWT token","example":"Amet sint labore vero molestias."},"example":"Reprehenderit molestiae qui dicta sit modi consequatur."}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Accusamus facere praesentium omnis voluptatem dolorum."}}}},"security":[{"basic_header_Authorization":[]}]}},"/subscribe":{"get":{"tags":["chatter"],"summary":"subscribe chatter","description":"Subscribe to events sent when new chat messages are added.","operationId":"chatter#subscribe","responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Event"},"example":{"action":"added","added_at":"2000-11-29T18:15:59Z","message":"In quo soluta ducimus blanditiis."}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Dolor accusantium atque accusantium."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Quaerat voluptatum."}}}},"security":[{"jwt_header_Authorization":["stream:read","stream:write"]}]}},"/summary":{"get":{"tags":["chatter"],"summary":"summary chatter","description":"Summarizes the chat messages sent by the client.","operationId":"chatter#summary","responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSummaryResponseCollection"},"example":[{"length":4832953061930875130,"message":"Molestiae autem voluptatem voluptate autem incidunt.","sent_at":"Eos est sed impedit ut similique tempora."},{"length":4832953061930875130,"message":"Molestiae autem voluptatem voluptate autem incidunt.","sent_at":"Eos est sed impedit ut similique tempora."}]}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Ipsum quis."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"},"example":"Rerum ut excepturi quasi sit quas."}}}},"security":[{"jwt_header_Authorization":["stream:read","stream:write"]}]}}},"components":{"schemas":{"ChatSummary":{"type":"object","properties":{"length":{"type":"integer","description":"Length of the message sent","example":7679539549940514514,"format":"int64"},"message":{"type":"string","description":"Message sent to the server","example":"Eligendi atque ducimus accusantium veniam."},"sent_at":{"type":"string","description":"Time at which the message was sent","example":"2010-05-24T22:40:04Z","format":"date-time"}},"example":{"length":7429839275106632135,"message":"Suscipit amet facere nihil.","sent_at":"2012-12-19T08:29:38Z"},"required":["message","sent_at"]},"ChatSummaryResponse":{"type":"object","properties":{"length":{"type":"integer","description":"Length of the message sent","example":2590870996361823987,"format":"int64"},"message":{"type":"string","description":"Message sent to the server","example":"Aperiam sint consequatur."},"sent_at":{"type":"string","description":"Message sent to the server","example":"Nisi dignissimos tempore sapiente dolorem."}},"description":"ChatSummaryResponse result type (default view)","example":{"length":5929104825104027564,"message":"Voluptas laboriosam omnis.","sent_at":"Et dolor molestias nihil qui sit."},"required":["message","sent_at"]},"ChatSummaryResponseCollection":{"type":"array","items":{"$ref":"#/components/schemas/ChatSummaryResponse"},"description":"SummaryResponseBody is the result type for an array of ChatSummaryResponse (default view)","example":[{"length":4832953061930875130,"message":"Molestiae autem voluptatem voluptate autem incidunt.","sent_at":"Eos est sed impedit ut similique tempora."},{"length":4832953061930875130,"message":"Molestiae autem voluptatem voluptate autem incidunt.","sent_at":"Eos est sed impedit ut similique tempora."}]},"Event":{"type":"object","properties":{"action":{"type":"string","example":"added","enum":["added"]},"added_at":{"type":"string","description":"Time at which the message was added","example":"1978-06-03T21:22:05Z","format":"date-time"},"message":{"type":"string","description":"Message sent to the server","example":"Ratione sit dolore commodi eos omnis."}},"example":{"action":"added","added_at":"2010-09-28T22:58:56Z","message":"Dolor quam sed cupiditate mollitia quis."},"required":["message","action","added_at"]},"HistoryResponseBodyTiny":{"type":"object","properties":{"message":{"type":"string","description":"Message sent to the server","example":"Ea magnam."}},"description":"HistoryResponseBody result type (tiny view)","example":{"message":"Et aspernatur."},"required":["message"]},"Unauthorized":{"type":"string","description":"Credentials are invalid","example":"Est quis fugiat amet delectus nisi ut."}},"securitySchemes":{"basic_header_Authorization":{"type":"http","description":"Secures the login endpoint.","scheme":"basic"},"jwt_header_Authorization":{"type":"http","description":"Secures endpoint by requiring a valid JWT token. Supports scopes \"stream:read\" and \"stream:write\".","scheme":"bearer"}}},"tags":[{"name":"chatter","description":"The chatter service implements a simple client and server chat."}]}