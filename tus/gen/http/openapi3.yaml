openapi: 3.0.3
info:
  title: File Upload Service
  description: HTTP service for uploading files using the tus protocol (https://tus.io)
  version: "1.0"
servers:
- url: http://localhost:8000/upload
  description: Upload hosts the upload service.
paths:
  /upload:
    options:
      tags:
      - tus
      summary: options tus
      description: Clients use the OPTIONS method to gather information about the
        Serverâ€™s current configuration.
      operationId: tus#options
      responses:
        "204":
          description: No Content response.
          headers:
            Tus-Checksum-Algorithm:
              description: A Client MAY include the Upload-Checksum header in a PATCH
                request. Once the entire request has been received, the Server MUST
                verify the uploaded chunk against the provided checksum using the
                specified algorithm.
              required: true
              schema:
                type: string
                description: A Client MAY include the Upload-Checksum header in a
                  PATCH request. Once the entire request has been received, the Server
                  MUST verify the uploaded chunk against the provided checksum using
                  the specified algorithm.
                example: md5,sha1,crc32
                enum:
                - md5,sha1,crc32
              example: md5,sha1,crc32
            Tus-Extension:
              description: tusExtension is a comma separated list of extensions supported
                by the server. This implementation supports the creation, creation-with-upload,
                expiration, checksum and termination extensions
              required: true
              schema:
                type: string
                description: tusExtension is a comma separated list of extensions
                  supported by the server. This implementation supports the creation,
                  creation-with-upload, expiration, checksum and termination extensions
                example: creation,creation-with-upload,creation-defer-length,expiration,checksum,termination
                enum:
                - creation,creation-with-upload,creation-defer-length,expiration,checksum,termination
              example: creation,creation-with-upload,creation-defer-length,expiration,checksum,termination
            Tus-Max-Size:
              description: tusMaxSize represents the maximum allowed size of an entire
                upload in bytes.
              schema:
                type: integer
                description: tusMaxSize represents the maximum allowed size of an
                  entire upload in bytes.
                example: 544471010116121267
                format: int64
              example: 7909200689594633365
            Tus-Resumable:
              description: tusResumable represents a tus protocol version.
              required: true
              schema:
                type: string
                description: tusResumable represents a tus protocol version.
                example: 1.0.0
                pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
              example: 1.0.0
            Tus-Version:
              description: tusVersion is a comma separated list of protocol versions
                supported by the server. This implementation only supports 1.0.0.
              required: true
              schema:
                type: string
                description: tusVersion is a comma separated list of protocol versions
                  supported by the server. This implementation only supports 1.0.0.
                example: 1.0.0
                enum:
                - 1.0.0
              example: 1.0.0
        "412":
          description: Precondition Failed response.
          headers:
            Tus-Version:
              description: Comma separated list of supported versions.
              required: true
              schema:
                type: string
                description: Comma separated list of supported versions.
                example: 1.0.0
                enum:
                - 1.0.0
              example: 1.0.0
    post:
      tags:
      - tus
      summary: post tus
      description: Clients use the POST method against a known upload creation URL
        to request a new upload resource.
      operationId: tus#post
      parameters:
      - name: Tus-Resumable
        in: header
        description: tusResumable represents a tus protocol version.
        allowEmptyValue: true
        required: true
        schema:
          type: string
          description: tusResumable represents a tus protocol version.
          example: 1.0.0
          pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
        example: 1.0.0
      - name: Upload-Length
        in: header
        description: uploadLength represents the size of the entire upload in bytes.
        allowEmptyValue: true
        schema:
          type: integer
          description: uploadLength represents the size of the entire upload in bytes.
          example: 3599706638076534418
          format: int64
        example: 5161079749242333445
      - name: Upload-Defer-Length
        in: header
        description: The Upload-Defer-Length request and response header indicates
          that the size of the upload is not known currently and will be transferred
          later.
        allowEmptyValue: true
        schema:
          type: integer
          description: The Upload-Defer-Length request and response header indicates
            that the size of the upload is not known currently and will be transferred
            later.
          example: 1
          enum:
          - 1
        example: 1
      - name: Upload-Checksum
        in: header
        description: A Client MAY include the Upload-Checksum header in a PATCH request.
          Once the entire request has been received, the Server MUST verify the uploaded
          chunk against the provided checksum using the specified algorithm.
        allowEmptyValue: true
        schema:
          type: string
          description: A Client MAY include the Upload-Checksum header in a PATCH
            request. Once the entire request has been received, the Server MUST verify
            the uploaded chunk against the provided checksum using the specified algorithm.
          example: sha1 Kq5sNclPz7QV2+lfQIuc6R7oRu0=
        example: sha1 Kq5sNclPz7QV2+lfQIuc6R7oRu0=
      - name: Upload-Metadata
        in: header
        description: The Client MAY supply the Upload-Metadata header to add additional
          metadata to the upload creation request.
        allowEmptyValue: true
        schema:
          type: string
          description: The Client MAY supply the Upload-Metadata header to add additional
            metadata to the upload creation request.
          example: key1 val1,key2 val2
        example: key1 val1,key2 val2
      - name: Tus-Max-Size
        in: header
        description: Length of the upload
        allowEmptyValue: true
        schema:
          type: integer
          description: Length of the upload
          example: 5893840024043105643
          format: int64
        example: 1148361428134693598
      responses:
        "201":
          description: Created response.
          headers:
            Location:
              description: URL of created resource
              required: true
              schema:
                type: string
                description: URL of created resource
                example: /files/123
                format: uri
              example: /files/123
            Tus-Resumable:
              description: tusResumable represents a tus protocol version.
              required: true
              schema:
                type: string
                description: tusResumable represents a tus protocol version.
                example: 1.0.0
                pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
              example: 1.0.0
            Upload-Expires:
              description: The Upload-Expires response header indicates the time after
                which the unfinished upload expires.
              schema:
                type: string
                description: The Upload-Expires response header indicates the time
                  after which the unfinished upload expires.
                example: Wed, 25 Jun 2014 16:00:00 GMT
              example: Wed, 25 Jun 2014 16:00:00 GMT
            Upload-Offset:
              description: uploadOffset represents a byte offset within a resource.
              required: true
              schema:
                type: integer
                description: uploadOffset represents a byte offset within a resource.
                example: 2601254845533756648
                format: int64
              example: 5402480077554026979
        "400":
          description: Bad Request response.
        "412":
          description: Precondition Failed response.
          headers:
            Tus-Version:
              description: Comma separated list of supported versions.
              required: true
              schema:
                type: string
                description: Comma separated list of supported versions.
                example: 1.0.0
                enum:
                - 1.0.0
              example: 1.0.0
        "413":
          description: Request Entity Too Large response.
        "460":
          description: ' response.'
  /upload/{id}:
    delete:
      tags:
      - tus
      summary: delete tus
      description: Clients use the DELETE method to terminate completed and unfinished
        uploads allowing the Server to free up used resources.
      operationId: tus#delete
      parameters:
      - name: id
        in: path
        description: 'IDs are generated using Xid: https://github.com/rs/xid'
        required: true
        schema:
          type: string
          description: 'IDs are generated using Xid: https://github.com/rs/xid'
          example: nksl3lk0upnkabff2l6l
          pattern: '[0-9a-v]{20}'
        example: shnkqp7ovukfd7so0gqe
      - name: Tus-Resumable
        in: header
        description: tusResumable represents a tus protocol version.
        allowEmptyValue: true
        required: true
        schema:
          type: string
          description: tusResumable represents a tus protocol version.
          example: 1.0.0
          pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
        example: 1.0.0
      responses:
        "204":
          description: No Content response.
          headers:
            Tus-Resumable:
              description: tusResumable represents a tus protocol version.
              required: true
              schema:
                type: string
                description: tusResumable represents a tus protocol version.
                example: 1.0.0
                pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
              example: 1.0.0
        "404":
          description: Not Found response.
        "410":
          description: Gone response.
        "412":
          description: Precondition Failed response.
          headers:
            Tus-Version:
              description: Comma separated list of supported versions.
              required: true
              schema:
                type: string
                description: Comma separated list of supported versions.
                example: 1.0.0
                enum:
                - 1.0.0
              example: 1.0.0
    head:
      tags:
      - tus
      summary: head tus
      description: Clients use the HEAD request to determine the offset at which the
        upload should be continued.
      operationId: tus#head
      parameters:
      - name: id
        in: path
        description: 'IDs are generated using Xid: https://github.com/rs/xid'
        required: true
        schema:
          type: string
          description: 'IDs are generated using Xid: https://github.com/rs/xid'
          example: vvhtoopfg74h629078jr
          pattern: '[0-9a-v]{20}'
        example: 9dagbu3th4v7g0fjbjhe
      - name: Tus-Resumable
        in: header
        description: tusResumable represents a tus protocol version.
        allowEmptyValue: true
        required: true
        schema:
          type: string
          description: tusResumable represents a tus protocol version.
          example: 1.0.0
          pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
        example: 1.0.0
      responses:
        "200":
          description: OK response.
          headers:
            Tus-Resumable:
              description: tusResumable represents a tus protocol version.
              required: true
              schema:
                type: string
                description: tusResumable represents a tus protocol version.
                example: 1.0.0
                pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
              example: 1.0.0
            Upload-Defer-Length:
              description: The Upload-Defer-Length request and response header indicates
                that the size of the upload is not known currently and will be transferred
                later.
              schema:
                type: integer
                description: The Upload-Defer-Length request and response header indicates
                  that the size of the upload is not known currently and will be transferred
                  later.
                example: 1
                enum:
                - 1
              example: 1
            Upload-Length:
              description: uploadLength represents the size of the entire upload in
                bytes.
              schema:
                type: integer
                description: uploadLength represents the size of the entire upload
                  in bytes.
                example: 3685977592723555102
                format: int64
              example: 8055868763003112661
            Upload-Metadata:
              description: The Client MAY supply the Upload-Metadata header to add
                additional metadata to the upload creation request.
              schema:
                type: string
                description: The Client MAY supply the Upload-Metadata header to add
                  additional metadata to the upload creation request.
                example: key1 val1,key2 val2
              example: key1 val1,key2 val2
            Upload-Offset:
              description: uploadOffset represents a byte offset within a resource.
              required: true
              schema:
                type: integer
                description: uploadOffset represents a byte offset within a resource.
                example: 4946583079346967063
                format: int64
              example: 4624549191014757979
        "404":
          description: Not Found response.
        "410":
          description: Gone response.
        "412":
          description: Precondition Failed response.
          headers:
            Tus-Version:
              description: Comma separated list of supported versions.
              required: true
              schema:
                type: string
                description: Comma separated list of supported versions.
                example: 1.0.0
                enum:
                - 1.0.0
              example: 1.0.0
    patch:
      tags:
      - tus
      summary: patch tus
      description: Clients use the PATCH method to start or resume an upload.
      operationId: tus#patch
      parameters:
      - name: id
        in: path
        description: 'IDs are generated using Xid: https://github.com/rs/xid'
        required: true
        schema:
          type: string
          description: 'IDs are generated using Xid: https://github.com/rs/xid'
          example: nnub7u7nkmlsfsc6ses6
          pattern: '[0-9a-v]{20}'
        example: 07aard2338glhm8vt8oo
      - name: Tus-Resumable
        in: header
        description: tusResumable represents a tus protocol version.
        allowEmptyValue: true
        required: true
        schema:
          type: string
          description: tusResumable represents a tus protocol version.
          example: 1.0.0
          pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
        example: 1.0.0
      - name: Upload-Offset
        in: header
        description: uploadOffset represents a byte offset within a resource.
        allowEmptyValue: true
        required: true
        schema:
          type: integer
          description: uploadOffset represents a byte offset within a resource.
          example: 7265713312701793783
          format: int64
        example: 6098270236636442402
      - name: Upload-Checksum
        in: header
        description: A Client MAY include the Upload-Checksum header in a PATCH request.
          Once the entire request has been received, the Server MUST verify the uploaded
          chunk against the provided checksum using the specified algorithm.
        allowEmptyValue: true
        schema:
          type: string
          description: A Client MAY include the Upload-Checksum header in a PATCH
            request. Once the entire request has been received, the Server MUST verify
            the uploaded chunk against the provided checksum using the specified algorithm.
          example: sha1 Kq5sNclPz7QV2+lfQIuc6R7oRu0=
        example: sha1 Kq5sNclPz7QV2+lfQIuc6R7oRu0=
      responses:
        "204":
          description: No Content response.
          headers:
            Tus-Resumable:
              description: tusResumable represents a tus protocol version.
              required: true
              schema:
                type: string
                description: tusResumable represents a tus protocol version.
                example: 1.0.0
                pattern: ^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(-(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(\.(0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\+[0-9a-zA-Z-]+(\.[0-9a-zA-Z-]+)*)?$
              example: 1.0.0
            Upload-Expires:
              description: The Upload-Expires response header indicates the time after
                which the unfinished upload expires.
              schema:
                type: string
                description: The Upload-Expires response header indicates the time
                  after which the unfinished upload expires.
                example: Wed, 25 Jun 2014 16:00:00 GMT
              example: Wed, 25 Jun 2014 16:00:00 GMT
            Upload-Offset:
              description: uploadOffset represents a byte offset within a resource.
              required: true
              schema:
                type: integer
                description: uploadOffset represents a byte offset within a resource.
                example: 6597072496050341109
                format: int64
              example: 8089889293749025904
        "400":
          description: Bad Request response.
        "404":
          description: Not Found response.
        "409":
          description: Conflict response.
        "410":
          description: Gone response.
        "412":
          description: Precondition Failed response.
          headers:
            Tus-Version:
              description: Comma separated list of supported versions.
              required: true
              schema:
                type: string
                description: Comma separated list of supported versions.
                example: 1.0.0
                enum:
                - 1.0.0
              example: 1.0.0
        "415":
          description: Unsupported Media Type response.
        "460":
          description: ' response.'
        "500":
          description: Internal Server Error response.
components: {}
tags:
- name: tus
  description: The tus service exposes the methods required to implement the tus protocol
